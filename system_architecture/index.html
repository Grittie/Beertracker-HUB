
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../journal/">
      
      
        <link rel="next" href="../embedded/authentication/">
      
      
      <link rel="icon" href="../assets/new_favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.8">
    
    
      
        <title>System architecture - Lars Grit's Portfolio</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.8608ea7d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
	<link rel="stylesheet" href="../assets/stylesheets/mdocotion.css" />
	<script src="../assets/javascripts/mdocotion.js"></script>

  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#system-architecture" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
     
	
<header class="md-header" data-md-component="header">

	<div class="header-inner">
		<div class="header-info-bar">
			<label class="md-header__button md-icon" for="__drawer"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label>

			<ul class="mdocotion-breadcrumbs">
			</ul>
		</div>

		<ul class="mdocotion-header-nav">
			<li>
				
				<label class="md-header__button md-icon" for="__search"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label>
				<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div> 
			</li>
		</ul>
	</div>
</header> 

    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
	
		
		
			<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation"  style="background: #f1f5f9;">
		
	
		<div class="md-sidebar__scrollwrap">
			<div class="md-sidebar__inner">
			  
<div class="mdocotion-nav-header">
	<div class="mdocotion-nav-logo">
		<a href=".." >
			
  <img src="../assets/logo.svg" alt="logo">

		</a>
		</div>
	
		Lars Grit's Portfolio
	
</div>
<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
	<ul class="md-nav__list" data-md-scrollfix>
		   

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        üèöÔ∏è Home
      </a>
    </li>
  
    

  
  
  
    <li class="md-nav__item">
      <a href="." class="md-nav__link">
        üì¶ System Architecture
      </a>
    </li>
  
    

  
  
  
    <li class="md-nav__item">
      <a href="../journal" class="md-nav__link">
        ‚ôüÔ∏è Learning journal
      </a>
    </li>
  
    

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        
        <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
            <span class="md-nav__icon md-icon"></span>
            
                üß∞ Embedded
            
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          <a href="..">üß∞ Embedded</a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedded/requirements" class="md-nav__link">
        Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedded/technical_documentation" class="md-nav__link">
        Technical documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedded/code" class="md-nav__link">
        Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../embedded/authentication" class="md-nav__link">
        Authentication
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
    

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        
        <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
            <span class="md-nav__icon md-icon"></span>
            
                üåê Web
            
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          <a href="..">üåê Web</a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../web/technical_documentation" class="md-nav__link">
        Technical documentation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../web/api_reference" class="md-nav__link">
        API reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../web/code" class="md-nav__link">
        Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../web/database" class="md-nav__link">
        Database
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
    

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        
        <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
            <span class="md-nav__icon md-icon"></span>
            
                üë©‚Äçüé® User Experience Design
            
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          <a href="..">üë©‚Äçüé® User Experience Design</a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../uxd/concept_design" class="md-nav__link">
        Concept & Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../uxd/create_test" class="md-nav__link">
        Create & Test
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../uxd/conclude_reflect" class="md-nav__link">
        Conclude & Reflect
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
    

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
      
      
      
        
        <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
            <span class="md-nav__icon md-icon"></span>
            
                üìà Market research
            
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          <a href="..">üìà Market research</a>
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research/research_to_market" class="md-nav__link">
        Research to market
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../research/research_implementation" class="md-nav__link">
        Research implementation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  
 
	</ul>
</nav>
			</div>
		</div>
		</div>
	

          

	<div class="md-content" data-md-component="content">

	<article class="mdocotion-content md-content__inner md-typeset">
		<div class="mdocotion-content-scroller">
			<main class="mdocotion-content-view">
				<div class="mdocotion-content-block">
					<div class="mdocotion-content-block-inner"> 



  <h1>System architecture</h1>

<h2 id="system-architecture"><strong>System Architecture</strong></h2>
<h3 id="introduction"><strong>Introduction</strong></h3>
<p>The <strong>System Architecture Diagram</strong> provides an abstraction of the entire clock-in/clock-out system. It shows the interaction between the embedded system (ESP32-S3), frontend, backend, database, and the networking components. This diagram is essential to understand how the hardware and software components are connected, enabling smooth communication and efficient logging of user check-ins/outs and sensor data (e.g., temperature and humidity). This architecture also ensures the system is scalable and maintainable for future expansions.</p>
<h3 id="component-breakdown-and-functionality"><strong>Component Breakdown and Functionality</strong></h3>
<h4 id="embedded-system-subsystem"><strong>Embedded System (Subsystem)</strong></h4>
<ul>
<li>
<p><strong>ESP32-S3-WROOM-1</strong> (Hardware Component): The core microcontroller responsible for controlling the RFID scanning, user interaction through buttons and LEDs, and communicating with the backend system. It also handles temperature and humidity data acquisition via the DHT11 sensor.</p>
</li>
<li>
<p><strong>PN532 RFID Reader</strong> (Hardware Component): This module scans RFID cards and retrieves user information for clocking in and out. It communicates with the ESP32 via I2C.</p>
</li>
<li>
<p><strong>DHT11 Sensor</strong> (Hardware Component): A temperature and humidity sensor that continuously monitors the environment and sends data to the ESP32.</p>
</li>
<li>
<p><strong>Buzzer/LEDs</strong> (Hardware Components): Provide user feedback during operations, such as successful or failed RFID scans.</p>
</li>
<li>
<p><strong>C/C++ Program</strong> (Software Component): The firmware running on the ESP32 that handles input from the sensors, communication with the web server, and control of the system‚Äôs outputs (LEDs, buzzer).</p>
</li>
</ul>
<h4 id="webserver-subsystem"><strong>Webserver (Subsystem)</strong></h4>
<ul>
<li>
<p><strong>NGINX Web Server</strong>: Acts as a reverse proxy, directing traffic to the backend PHP services that handle API requests.</p>
</li>
<li>
<p><strong>PHP Module</strong> (Software Component): Responsible for processing HTTP requests, interacting with the database, and managing user sessions.</p>
</li>
</ul>
<h4 id="frontend-subsystem"><strong>Frontend (Subsystem)</strong></h4>
<ul>
<li>
<p><strong>HTML Files</strong> (Software Components): Define the structure of the web interface where users can view their clock-in/clock-out records and session data.</p>
</li>
<li>
<p><strong>CSS Files</strong> (Software Components): Provide the styling and layout for the web interface.</p>
</li>
<li>
<p><strong>JavaScript Files</strong> (Software Components): Handle frontend logic, fetch data from the backend (using AJAX/HTTP requests), and update the page dynamically.</p>
</li>
<li>
<p><strong>Frontend PHP Files</strong> (Software Components): Handle the dynamic generation of the HTML content, ensuring the frontend is connected to the backend API.</p>
</li>
</ul>
<h4 id="backend-subsystem"><strong>Backend (Subsystem)</strong></h4>
<ul>
<li>
<p><strong>API PHP Files</strong> (Software Components): These files handle the logic for user authentication, session management, and communication with the embedded ESP32 system. The <code>api.php</code> delegates requests to handlers (e.g., <code>temperature_handler.php</code>, <code>card_handler.php</code>, <code>session_handler.php</code>) based on the type of data being processed.</p>
</li>
<li>
<p><strong>Backend Libraries</strong> (Software Components): These libraries provide support for managing sessions, database queries, and user authentication.</p>
</li>
</ul>
<h4 id="database-system-subsystem"><strong>Database System (Subsystem)</strong></h4>
<ul>
<li>
<p><strong>MariaDB Database</strong>: Stores all user data, RFID card associations, session logs, and temperature readings. Each session includes data like the check-in/check-out time and the number of pitchers.</p>
</li>
<li>
<p><strong>Database Instance</strong>: The actual instance running within a Docker container, handling all the persistent data storage.</p>
</li>
</ul>
<h4 id="docker-registry-external-system"><strong>Docker Registry (External System)</strong></h4>
<ul>
<li><strong>Docker Images</strong>: Pre-built containers for PHP, MariaDB, and supporting services, facilitating a portable and consistent environment across development and production.</li>
</ul>
<h4 id="docker-host-subsystem"><strong>Docker Host (Subsystem)</strong></h4>
<ul>
<li>
<p><strong>Docker Network</strong> (Virtual Hardware Component): Provides network communication between containers running the webserver, backend, and database services.</p>
</li>
<li>
<p><strong>Docker Containers</strong> (Virtual Hardware Component): Run the isolated instances of the webserver (NGINX + PHP) and MariaDB database.</p>
</li>
</ul>
<h4 id="host-system-subsystem"><strong>Host System (Subsystem)</strong></h4>
<ul>
<li><strong>Linux (or your specific host OS)</strong>: The operating system running the Docker containers and managing the clock-in/clock-out system.</li>
</ul>
<h4 id="mobile-device-external-system"><strong>Mobile Device (External System)</strong></h4>
<ul>
<li>
<p><strong>Mobile OS (e.g., Android/iOS)</strong>: Allows users to interact with the system via a web browser to view their clock-in and clock-out logs.</p>
</li>
<li>
<p><strong>Browser</strong>: Accesses the frontend web interface for monitoring and interacting with the system.</p>
</li>
</ul>
<h4 id="network-access-point-external-system"><strong>Network Access Point (External System)</strong></h4>
<ul>
<li><strong>Wi-Fi Access Point</strong>: Connects the ESP32 to the local network, enabling it to communicate with the backend server over HTTP.</li>
</ul>
<h4 id="internetintranet-abstraction"><strong>Internet/Intranet (Abstraction)</strong></h4>
<ul>
<li><strong>Cloud Symbol</strong>: Represents the internet or intranet that connects the mobile devices and ESP32 to the server.</li>
</ul>
<h4 id="ssh-tunnel-subsystem"><strong>SSH Tunnel (Subsystem)</strong></h4>
<ul>
<li><strong>SSH Tunnel</strong>: Provides secure remote access to the server, allowing you to manage and monitor the system from external networks.</li>
</ul>
<hr />
<h3 id="communication-overview"><strong>Communication Overview</strong></h3>
<ul>
<li>
<p><strong>I2C Protocol (ESP32 &lt;-&gt; PN532, DHT11)</strong>: Used for the ESP32 to communicate with the RFID reader and temperature sensor.</p>
</li>
<li>
<p><strong>HTTP Protocol (ESP32 &lt;-&gt; Webserver)</strong>: The ESP32 sends RFID data, user credentials, and sensor data via HTTP requests to the PHP backend.</p>
</li>
<li>
<p><strong>HTTPS Protocol (Browser &lt;-&gt; Webserver)</strong>: Users access the frontend interface over HTTPS to ensure secure transmission of data.</p>
</li>
<li>
<p><strong>MySQL Protocol (PHP Backend &lt;-&gt; MariaDB)</strong>: Used by the backend PHP files to query and store data in the database.</p>
</li>
<li>
<p><strong>Docker Networking (Internal)</strong>: Communication between Docker containers (NGINX, PHP, MariaDB) happens over an internal network using standard Docker networking mechanisms.</p>
</li>
</ul>











  </div>
				</div>
			</main>
		</div>
	</article>
</div>

          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "content.tabs.link"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
     
	
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
     

  </body>
</html>